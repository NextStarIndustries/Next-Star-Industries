PART
{
	name = TDS22
	module = Part
	author = #autoLOC_NSI_1 NSI NSIRD
	MODEL
	{
		model = NSI/AeroSpaceDivision/Parts/Command/TDS22/TDS22
	}
	rescaleFactor = 1
	CrewCapacity = 3
	CoPOffset = 0.0, 0.0, 0.0
	CenterOfBuoyancy = 0.0, 0.0, 0.0
	CenterOfDisplacement = 0.0, 0.0, 0.0
	buoyancyUseSine = False
	buoyancy = 1.1
	CoLOffset = 0.0, 0.0, 0.0
	TechRequired = precisionEngineering
	entryCost = 300000
	cost = 3000000
	category = Pods
	bdacategory = Control
	subcategory = 0
	title =  #autoLOC_NSI_87
	manufacturer = #autoLOC_NSI_1
	description = #autoLOC_NSI_88
	attachRules = 0,0,1,1,0
	mass = 2
	dragModelType = default
	maximum_drag = 0.03
	minimum_drag = 0.02
	angularDrag = 2
	crashTolerance = 500
	maxTemp = 14400
	explosionPotential = 0.1
	vesselType = Ship
	emissiveConstant = 0.025	// Gold polished emissivity
	heatConductivity = 0.0001 //They have built in insulators
	bulkheadProfiles = size0
	MODULE
	{
		name = TDSControl
	}
	MODULE
	{
		name = ModuleCommand
		minimumCrew = 0
		hasHibernation = True
		Resource
		{
			name = ElectricCharge
			rate = 1.0
		}
	}
	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}
	MODULE
	{
		name = ModuleGenerator
		isAlwaysActive = true
		OUTPUT_RESOURCE
		{
			name = ElectricCharge
			rate = 10.0
		}
	}
	{
		name = ModuleActiveRadiator
		maxEnergyTransfer = 20000
		overcoolFactor = 0.25
		isCoreRadiator = true
		parentCoolingOnly = false
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.025
		}		
	}
	MODULE
	{
		name = ModuleColorChanger
		moduleID = shieldChar
		shaderProperty = _BurnColor
		useRate = False
		toggleInEditor = False
		toggleInFlight = False
		redCurve
		{
			key = 0 0
			key = 1 1
		}
		greenCurve
		{
			key = 0 0
			key = 1 1
		}
		blueCurve
		{
			key = 0 0
			key = 1 1
		}
		alphaCurve
		{
			key = 0 0.8
		}
	}
	MODULE
	{
		name = ModuleLiftingSurface
		useInternalDragModel = True
		deflectionLiftCoeff = 7.8 // 27,41m^2
		dragAtMaxAoA = 0.01
		dragAtMinAoA = 0.0
	}
	RESOURCE
	{
		name = ElectricCharge
		amount = 5000.0
		maxAmount = 5000.0
	}
	RESOURCE
	{
		name = Ore
		amount = 0
		maxAmount = 20
	}
	MODULE
	{
		name = ModuleReactionWheel
		PitchTorque = 30
		YawTorque = 30
		RollTorque = 30
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.005
		}
	}
	MODULE
	{
		name = ModuleKerbNetAccess
		MinimumFoV = 1
		MaximumFoV = 90
		AnomalyDetection = 0.25
		DISPLAY_MODES
		{
			Mode = Terrain
		}
	}
	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = RELAY
		packetInterval = 0.35
		packetSize = 10
		packetResourceCost = 22.0
		requiredResource = ElectricCharge
		antennaPower = 100000000000000
		antennaCombinable = True
	}
	MODULE
	{
		name = ModuleConductionMultiplier
		modifiedConductionFactor = 0.003
		convectionFluxThreshold = 3000
	}
	MODULE
	{
		name = ModuleEnginesFX
		engineID = Main
		thrustVectorTransformName = thrustTransform
		exhaustDamage = False
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 500
		heatProduction = 0
		EngineType = Electric
		PROPELLANT
		{
			name = ElectricCharge
			ratio = 0.25
			DrawGauge = True
			minResToLeave = 0.01
		}
		atmosphereCurve
		{
			key = 0 42000
			key = 1 10000
			key = 1.2 0.001
		}
	}
	MODULE
	{
		name = ModuleEnginesFX
		engineID = Hover
		thrustVectorTransformName = hoverTransform
		exhaustDamage = False
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 500
		heatProduction = 0
		EngineType = Electric
		PROPELLANT
		{
			name = ElectricCharge
			ratio = 0.25
			DrawGauge = True
			minResToLeave = 0.01
		}
		atmosphereCurve
		{
			key = 0 42000
			key = 1 10000
			key = 1.2 0.001
		}
	}
	MODULE
	{
		name = RadarWarningReceiver	
	}
	MODULE
	{
		name = ModuleWeapon
		fireTransformName = fireTransform
		hasDeployAnim = false
		hasFireAnimation = false
		maxEffectiveDistance = 10000
		bulletMass = 5.40133e-5
		bulletVelocity = 860
		ammoName = ElectricCharge
		requestResourceAmount = 4
		weaponType = laser
		laserDamage = 1600
		tanAngle = 0.0001 //controls how quickly damage scales down with distance
		projectileColor = 255, 0, 255, 128 //RGBA 0-255
		tracerStartWidth = 0.3
		tracerEndWidth = 0.3
		maxHeat = 3600
		heatPerShot = 40
		heatLoss = 740
		fireSoundPath = BDArmory/Parts/ABL/sounds/laser
		chargeSoundPath = BDArmory/Parts/ABL/sounds/charge
		overheatSoundPath = BDArmory/Parts/50CalTurret/sounds/turretOverheat
	}
	MODULE
	{
        		name = ModuleRadar
        		// -- Section: General Configuration --
        		radarName = TDS22 Radar //if left empty part.title is used, but advised to set this to a nice printable text
        		rwrThreatType = 2 //IMPORTANT, please set correctly:
                                //0 = SAM site radar
                                //1 = Fighter radar (airborne)
                                //2 = AWACS radar (airborne)
                                //3, 4 = ACTIVE MISSILE (DO NOT USE UNLESS YOU KNOW WHAT YOU'RE DOING!
                                //5 = Detection radar (ground/ship based)
                                //6 = SONAR (ship/submarine based)
        		rotationTransformName = scanRotation
	    	turretID = 1 // if needed
        		resourceDrain = 0.8 //change to higher values for more capable radars, e.g AESA
        		// -- Section: Capabilities --
        		omnidirectional = true // false: boresight scan radar
        		directionalFieldOfView = 90 //for omni and boresight
        		//boresightFOV = 10 //for boresight only
        		scanRotationSpeed = 190 // degress per second
        		//lockRotationSpeed = 120 // only relevant if canLock
        		//lockRotationAngle = 4
        		showDirectionWhileScan = true // can show target direction on radar screen. False: radar echos displayed as block only (no direction)
        		//multiLockFOV = 30 // only relevant if canLock
        		//lockAttemptFOV = 2 // only relevant if canLock
        		maxLocks = 2 //how many targets can be locked/tracked simultaneously. only relevant if canLock
        		canScan = true // scanning/detecting targets (volume search)
        		canLock = true // locking/tracking targets (fire control)
        		canTrackWhileScan = true // continue scanning while tracking a locked target
        		canRecieveRadarData = true // can work as passive data receiver (NOTE THE SPELLING! [SIC])
        		minSignalThreshold = 300 // DEPRECATED, NO LONGER USED! use detection float curve!
        		minLockedSignalThreshold = 220 // DEPRECATED, NO LONGER USED! use locktrack float curve!
        		radarGroundClutterFactor = 0.1 // how much is the radar efficiency reduced to by ground clutter/look-down?
                                //0.0 = reduced to 0% (=IMPOSSIBLE to detect ground targets)
                                //1.0 = fully efficient (no difference between air & ground targets)
                                //default if unset: 0.25
                                //Ground targets, especially ships, already have a massively larger RCS than fighters, hence
                                //any ground clutter factor >0.25 is to be considered very good, making an efficient surface/horizon search radar.
                                //values >1.0 are possible, meaning the radar is MORE efficient during look down than vs air targets.
        		radarDetectionCurve
        		{
          			//floatcurve to define at what range (km) which minimum cross section (m^2) can be detected.
          			//this defines both min/max range of the radar, and sensitivity/efficiency
          			//it is recommended to define an "assured detection range", at which all craft are detected regardless
          			//of their rcs. This is achieved by using a minrcs value of zero, thus detecting everything.
          			//key = distance rcs
                    		key = 5 0 //between 0 and 5 km the min cross section is 0, thus assured detection of everything
                    		key = 10 10 //
                    		key = 15 20 //
                    		key = 20 25 //this radar is NOT very good at detection (limited range, needs large rcs)
        		}
        		radarLockTrackCurve
        		{
            			//same as detectionCurve, just for locking/tracking purpose
            			//ATTENTION: DO NOT USE an "assured locking range" here, as this would render lock-breaking
            			//ECM-jammers & chaff completely ineffective!!
            			//key = distance rcs
                    		key = 0.0 0
                    		key = 5 5 //for tracking locks the radar is highly sensitive
                    		key = 10 7 //this radar is relatively  good at locking/tracking
                    		key = 15 15 //
                    		key = 20 20 // this radar is NOT very good at detection (limited range, needs large rcs)
        		}

	}
	MODULE
	{
		name = ModuleOrbitalSurveyor
		ScanTime = 5
		SciBonus = 10
	}

	MODULE
	{
		name = ModuleOrbitalScanner
		CheckForLock = true
	}
	MODULE
	{
		name = ModuleAnimationGroup
		deployAnimationName = deploy
		activeAnimationName = 
		deployActionName = #autoLOC_6002393 //#autoLOC_6002393 = Deploy <<1>>
		retractActionName = #autoLOC_6002394 //#autoLOC_6002394 = Retract <<1>>
		toggleActionName = #autoLOC_6002395 //#autoLOC_6002395 = Toggle <<1>>
		moduleType = #autoLOC_7001229 //#autoLOC_7001229 = Scanner
	}
	MODULE
	{
		 name = ModuleResourceConverter
		 ConverterName = #autoLOC_502026 //#autoLOC_502026 = Lf+Ox
		 StartActionName = #autoLOC_502027 //#autoLOC_502027 = Start ISRU [Lf+Ox]
		 StopActionName = #autoLOC_502028 //#autoLOC_502028 = Stop ISRU [Lf+Ox]
		AutoShutdown = true
		TemperatureModifier
		{
			key = 0 100000
			key = 750 50000
			key = 1000 10000
			key = 1250 500	
			key = 2000 50	
			key = 4000 0
		}				
		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency 
		{
			key = 0 0 0 0
			key = 500 0.1 0 0
			key = 1000 1.0 0 0
			key = 1250 0.1 0 0
			key = 3000 0 0 0 
		}


		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		UseSpecialistHeatBonus = true
		SpecialistHeatFactor = 0.1
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
		resourceOutputName = #autoLOC_8012033		// #autoLOC_8012033 = LF+Ox

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Ore
			Ratio = 0.5
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 30
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = LiquidFuel
			Ratio = 0.45
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = Oxidizer
			Ratio = 0.55
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
	}

	MODULE
	{
		 name = ModuleResourceConverter
		 ConverterName = #autoLOC_502029 //#autoLOC_502029 = Monoprop
		 StartActionName = #autoLOC_502030 //#autoLOC_502030 = Start ISRU [Monoprop]
		 StopActionName = #autoLOC_502031 //#autoLOC_502031 = Stop ISRU [Monoprop]
		AutoShutdown = true
		TemperatureModifier
		{
			key = 0 100000
			key = 750 50000
			key = 1000 10000
			key = 1250 500	
			key = 2000 50	
			key = 4000 0
		}				
		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency 
		{
			key = 0 0 0 0
			key = 500 0.1 0 0
			key = 1000 1.0 0 0
			key = 1250 0.1 0 0
			key = 3000 0 0 0 
		}

		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		UseSpecialistHeatBonus = true
		SpecialistHeatFactor = 0.1
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
		resourceOutputName = #autoLOC_8012026		// #autoLOC_8012026 = Monoprop

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Ore
			Ratio = 0.5
		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 30
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = MonoPropellant
			Ratio = 1
			DumpExcess = false
		 }
	}


	MODULE
	{
		 name = ModuleResourceConverter
		 ConverterName = #autoLOC_502032 //#autoLOC_502032 = LiquidFuel
		 StartActionName = #autoLOC_502033 //#autoLOC_502033 = Start ISRU [LqdFuel]
		 StopActionName = #autoLOC_502034 //#autoLOC_502034 = Stop ISRU [LqdFuel]
		AutoShutdown = true
		TemperatureModifier
		{
			key = 0 100000
			key = 750 50000
			key = 1000 10000
			key = 1250 500	
			key = 2000 50	
			key = 4000 0
		}				
		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency 
		{
			key = 0 0 0 0
			key = 500 0.1 0 0
			key = 1000 1.0 0 0
			key = 1250 0.1 0 0
			key = 3000 0 0 0 
		}
		
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		UseSpecialistHeatBonus = true
		SpecialistHeatFactor = 0.1
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
		resourceOutputName = #autoLOC_8012032		// #autoLOC_8012032 = LqdFuel

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Ore
			Ratio = 0.45
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 30
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = LiquidFuel
			Ratio = 0.9
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
	}

	
	MODULE
	{
		 name = ModuleResourceConverter
		 ConverterName = #autoLOC_502035 //#autoLOC_502035 = Oxidizer
		 StartActionName = #autoLOC_502036 //#autoLOC_502036 = Start ISRU [Ox]
		 StopActionName = #autoLOC_502037 //#autoLOC_502037 = Stop ISRU [Ox]
		AutoShutdown = true
		TemperatureModifier
		{
			key = 0 100000 0 0
			key = 750 50000 0 0
			key = 1000 10000 0 0
			key = 1250 500 0 0	 
			key = 2000 50 0 0	
			key = 4000 0 0 0
		}				
		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency 
		{
			key = 0 0 0 0
			key = 500 0.1 0 0
			key = 1000 1.0 0 0
			key = 1250 0.1 0 0
			key = 3000 0 0 0 
		}

		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		UseSpecialistHeatBonus = true
		SpecialistHeatFactor = 0.1
		ExperienceEffect = ConverterSkill
		resourceOutputName = #autoLOC_8012027		// #autoLOC_8012027 = Ox

		EfficiencyBonus = 1

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Ore
			Ratio = 0.55
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 30
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = Oxidizer
			Ratio = 1.1
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
	}
	
	MODULE
	{
		name = ModuleAnimationGroup
		deployAnimationName = 
		activeAnimationName = ProcessorLarge_running
		deployActionName = #autoLOC_6002380 //#autoLOC_6002380 = Deploy <<1>>
		retractActionName = #autoLOC_6002381 //#autoLOC_6002381 = Retract <<1>>
		toggleActionName = #autoLOC_6002382 //#autoLOC_6002382 = Toggle <<1>>
		moduleType = #autoLOC_7001227  //Converter //#autoLOC_7001227 = Converter
		autoDeploy = true
	}
	MODULE
	{
		name = ModuleOverheatDisplay
	}

	MODULE
	{
		name = ModuleResourceHarvester
		HarvesterType = 0
		Efficiency = 1.5
		ResourceName = Ore
		ConverterName = #autoLOC_502038 //#autoLOC_502038 = Surface Harvester
		StartActionName = #autoLOC_502039 //#autoLOC_502039 = Start Surface Harvester
		StopActionName = #autoLOC_502040 //#autoLOC_502040 = Stop Surface Harvester
		ToggleActionName = #autoLOC_502041 //#autoLOC_502041 = Toggle Surface Harvester
		ImpactTransform = ImpactTransform
		ImpactRange = 5.42
		AutoShutdown = true
		GeneratesHeat = true
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 15
		}
		
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		UseSpecialistHeatBonus = true
		SpecialistHeatFactor = 0.1
		ExperienceEffect = DrillSkill
		EfficiencyBonus = 1

		TemperatureModifier
		{
			key = 0 10000 0 0
			key = 250 7500 0 0
			key = 500 5000 0 0
			key = 750 500 0 0
			key = 1000 0 0 0
		}
		
		ThermalEfficiency 
		{
			key = 0 0.1
			key = 250 .1
			key = 500 1
			key = 750 .1
			key = 1000 0
		}
	}

	MODULE
	{
		name = ModuleAsteroidDrill
		DirectAttach = false
		StartActionName = #autoLOC_502042 //#autoLOC_502042 = Start Asteroid Harvester
		StopActionName = #autoLOC_502043 //#autoLOC_502043 = Stop Asteroid Harvester
		ToggleActionName = #autoLOC_502044 //#autoLOC_502044 = Toggle Asteroid Harvester
		PowerConsumption = 1.5
		Efficiency = 5
		ImpactRange = 5
		ImpactTransform = ImpactTransform
		AutoShutdown = true
		GeneratesHeat = true
	
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		UseSpecialistHeatBonus = true
		SpecialistHeatFactor = 0.1
		ExperienceEffect = DrillSkill
		EfficiencyBonus = 1

		TemperatureModifier
		{
			key = 0 10000
			key = 250 7500
			key = 500 5000
			key = 750 500
			key = 1000 0
		}
		
		ThermalEfficiency 
		{
			key = 0 0.1
			key = 250 .1
			key = 500 1
			key = 750 .1
			key = 1000 0
		}	
	}

	MODULE
	{
		name = ModuleCometDrill
		DirectAttach = false
		StartActionName = #autoLOC_6002534 //#autoLOC_6002534 = Start Comet Harvester
		StopActionName = #autoLOC_6002535 //#autoLOC_6002535 = Stop Comet Harvester
		ToggleActionName = #autoLOC_6002536 //#autoLOC_6002536 = Toggle Comet Harvester
		PowerConsumption = 1.5
		Efficiency = 5
		ImpactRange = 5
		ImpactTransform = ImpactTransform
		AutoShutdown = true
		GeneratesHeat = true
	
		UseSpecialistBonus = true
		UseSpecialistHeatBonus = true
		SpecialistHeatFactor = 0.1
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = DrillSkill
		EfficiencyBonus = 1

		TemperatureModifier
		{
			key = 0 10000
			key = 250 7500
			key = 500 5000
			key = 750 500
			key = 1000 0
		}		

		ThermalEfficiency 
		{
			key = 0 0.1
			key = 250 .1
			key = 500 1
			key = 750 .1
			key = 1000 0
		}
		
	}	
	
	MODULE
	{
		name = ModuleCoreHeat
		CoreTempGoal = 500					//Internal temp goal - we don't transfer till we hit this point
		CoreToPartRatio = 0.1				//Scale back cooling if the part is this % of core temp
		CoreTempGoalAdjustment = 0			//Dynamic goal adjustment
		CoreEnergyMultiplier = 0.1			//What percentage of our core energy do we transfer to the part
		HeatRadiantMultiplier = 0.25		//If the core is hotter, how much heat radiates?
		CoolingRadiantMultiplier = 0		//If the core is colder, how much radiates?
		HeatTransferMultiplier = 0			//If the part is hotter, how much heat transfers in?
		CoolantTransferMultiplier = 0.01	//If the part is colder, how much of our energy can we transfer?
		radiatorCoolingFactor = 1			//How much energy we pull from core with an active radiator?  >= 1
		radiatorHeatingFactor = 0.05		//How much energy we push to the active radiator
		MaxCalculationWarp = 1000			//Based on how dramatic the changes are, this is the max rate of change
		CoreShutdownTemp = 1000				//At what core temperature do we shut down all generators on this part?
		MaxCoolant = 100					//Maximum amount of radiator capacity we can consume - 50 = 1 small
	}
}